---
layout: post
title: "ES6"
date_time: "2016-04-24 23:35:12 +0800"
description: ""
category:
- programming
tags:
---
{% include JB/setup %}

阅读阮一峰老师的[《ECMAScript 6入门》](http://es6.ruanyifeng.com/)

### let 和 const

1. temporal dead zone 为了防止运行时错误，防止在变量声明前就使用了这个变量，从而导致意料之外。
2. let 块级作用域可以减少很多潜在的危害，比如说 for 循环里定义的 i，还有 switch 里定义的变量，出了这一块作用域就不应该被用到。

{% highlight JavaScript linenos %}
{
	let insane = 'Hello World0'; console.log('0', insane);
	{
		let insane = 'Hello World1'; console.log('1', insane);
	}
	console.log('2', insane);
}
{% endhighlight %}

ES6 的函数作用域也是块级作用域。

const 命令只是保证变量名指向的地址不变，并不保证该地址的数据不变。
有坑，如果
{% highlight JavaScript linenos %}
const foo = {};
foo.prop = 123;

const a = [];
a.push("Hello"); // 可执行
a.length = 0;    // 可执行
a = ["Dave"];    // 报错
{% endhighlight %}

可以用 `const foo = Object.freeze({});`

对象属性彻底冻结
{% highlight JavaScript linenos %}
let constantize = (obj) => {
	Object.freeze(obj);
	Object.keys(obj).forEach( (key, value) => {
		if ( typeof obj[key] === 'object' ) {
			constantize( obj[key] );
		}
	});
};
{% endhighlight %}

### 不能使用圆括号

- 变量生命语句种，不能带有圆括号
- 函数参数中，模式不能带有圆括号
- 赋值语句中，不能将整个模式，或嵌套模式中的一层，防止圆括号之中

### 变量的解构赋值总结

- 数组的解构赋值
- 对象
- 字符串
- 数值和布尔值
- 函数参数
- 圆括号
- 用途


### Unicode

	"\u0061"
	// "a"

PS: 编码问题是一个比较大的坑，占坑不说
<http://es6.ruanyifeng.com/#docs/string>

continue ....
