<html>

<head>
    <link rel="stylesheet" type="text/css" href="https://assets-cdn.github.com/assets/github-ce4c3f5b30639b5488b01748e2c1f8166ed48a0075b9b3987b035ccfc310bf1c.css">
</head>

<body>

<article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1><a id="user-content-airbnb-reactjsx-style-guide" class="anchor" href="#airbnb-reactjsx-style-guide" aria-hidden="true"><span class="octicon octicon-link"></span></a>Airbnb React/JSX Style Guide</h1>

<p><em>A mostly reasonable approach to React and JSX</em></p>

<h2 id="table-of-contents"><a id="user-content-table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span class="octicon octicon-link"></span></a>Table of Contents</h2>

<ol>
<li><a href="#basic-rules">基本规范</a></li>
<li><a href="#naming">命名</a></li>
<li><a href="#declaration">声明</a></li>
<li><a href="#alignment">对齐</a></li>
<li><a href="#quotes">引号</a></li>
<li><a href="#spacing">空格</a></li>
<li><a href="#props">Props</a></li>
<li><a href="#parentheses">括号</a></li>
<li><a href="#tags">标签</a></li>
<li><a href="#methods">方法</a></li>
<li><a href="#ordering">排序</a></li>
</ol>

<h2><a id="user-content-基本规范" class="anchor" href="#基本规范" aria-hidden="true"><span class="octicon octicon-link"></span></a>基本规范</h2>

<ul>
<li>每个文件只包含一个 React 组件。</li>
<li>总是使用 JSX 语法。</li>
<li>请别使用 React.createElement ，除非你从一个不转换 JSX 的文件初始化。</li>
</ul>

<h2><a id="user-content-class-vs-reactcreateclass" class="anchor" href="#class-vs-reactcreateclass" aria-hidden="true"><span class="octicon octicon-link"></span></a>Class vs React.createClass</h2>

<ul>
<li><p>使用扩展类 React.Component，除非你有一个非常好的理由才使用 mixins。</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">const</span> <span class="pl-c1">Listing</span> <span class="pl-k">=</span> React.createClass({
  <span class="pl-en">render</span>() {
    <span class="pl-k">return</span> <span class="pl-k">&lt;</span>div <span class="pl-k">/&gt;</span>;
  }
});

<span class="pl-c">// good</span>
<span class="pl-k">class</span> <span class="pl-en">Listing</span> <span class="pl-k">extends</span> <span class="pl-en">React.Component</span> {
  <span class="pl-en">render</span>() {
    <span class="pl-k">return</span> <span class="pl-k">&lt;</span>div <span class="pl-k">/&gt;</span>;
  }
}</pre></div></li>
</ul>

<h2><a id="user-content-naming" class="anchor" href="#naming" aria-hidden="true"><span class="octicon octicon-link"></span></a>Naming</h2>

<ul>
<li><strong>后缀名</strong>：React 组件的后缀名请使用 jsx。</li>
<li><strong>文件名</strong>：文件名请使用帕斯卡命名法。例如：ReservationCard.jsx。</li>
<li><p><strong>参考命名规范</strong>: React 组件请使用帕斯卡命名法，组件的实例则使用驼峰式大小写：</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">const</span> <span class="pl-c1">reservationCard</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>./ReservationCard<span class="pl-pds">'</span></span>);

<span class="pl-c">// good</span>
<span class="pl-k">const</span> <span class="pl-c1">ReservationCard</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>./ReservationCard<span class="pl-pds">'</span></span>);

<span class="pl-c">// bad</span>
<span class="pl-k">const</span> <span class="pl-c1">ReservationItem</span> <span class="pl-k">=</span> <span class="pl-k">&lt;</span>ReservationCard <span class="pl-k">/&gt;</span>;

<span class="pl-c">// good</span>
<span class="pl-k">const</span> <span class="pl-c1">reservationItem</span> <span class="pl-k">=</span> <span class="pl-k">&lt;</span>ReservationCard <span class="pl-k">/&gt;</span>;</pre></div>

<p><strong>组件命名规范</strong>：文件名须和组件名一致。所以 ReservationCard.jsx 的名称必须为 ReservationCard。但对于目录的根组件请使用 index.jsx 作为文件名，并使用目录名作为组件的名称：</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">const</span> <span class="pl-c1">Footer</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>./Footer/Footer.jsx<span class="pl-pds">'</span></span>)

<span class="pl-c">// bad</span>
<span class="pl-k">const</span> <span class="pl-c1">Footer</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>./Footer/index.jsx<span class="pl-pds">'</span></span>)

<span class="pl-c">// good</span>
<span class="pl-k">const</span> <span class="pl-c1">Footer</span> <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>./Footer<span class="pl-pds">'</span></span>)</pre></div></li>
</ul>

<h2><a id="user-content-声明" class="anchor" href="#声明" aria-hidden="true"><span class="octicon octicon-link"></span></a>声明</h2>

<ul>
<li><p>不要使用 displayName 来命名组件，请使用命名规范来命名组件。</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">export</span> <span class="pl-k">default</span> React.createClass({
  displayName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>ReservationCard<span class="pl-pds">'</span></span>,
  <span class="pl-c">// stuff goes here</span>
});

<span class="pl-c">// good</span>
<span class="pl-k">export</span> <span class="pl-k">default</span> <span class="pl-k">class</span> <span class="pl-en">ReservationCard</span> <span class="pl-k">extends</span> <span class="pl-en">React.Component</span> {
}</pre></div></li>
</ul>

<h2><a id="user-content-对齐" class="anchor" href="#对齐" aria-hidden="true"><span class="octicon octicon-link"></span></a>对齐</h2>

<ul>
<li><p>JSX 语法请遵循以下的对齐风格</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">&lt;</span>Foo superLongParam<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>
     anotherSuperLongParam<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>baz<span class="pl-pds">"</span></span> <span class="pl-k">/&gt;</span>

<span class="pl-c">// good</span>
<span class="pl-k">&lt;</span>Foo
  superLongParam<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>
  anotherSuperLongParam<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>baz<span class="pl-pds">"</span></span>
<span class="pl-k">/&gt;</span>

<span class="pl-c">// 如果 props 适合放在同一行，就将它们放在同一行上</span>
<span class="pl-k">&lt;</span>Foo bar<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span> <span class="pl-k">/&gt;</span>

<span class="pl-c">// 通常子元素有缩进</span>
<span class="pl-k">&lt;</span>Foo
  superLongParam<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>
  anotherSuperLongParam<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>baz<span class="pl-pds">"</span></span>
<span class="pl-k">&gt;</span>
  <span class="pl-k">&lt;</span>Spazz <span class="pl-k">/&gt;</span>
<span class="pl-k">&lt;/</span>Foo<span class="pl-k">&gt;</span></pre></div></li>
</ul>

<h2><a id="user-content-引号" class="anchor" href="#引号" aria-hidden="true"><span class="octicon octicon-link"></span></a>引号</h2>

<ul>
<li><p>总是在 JSX 的属性使用双引号（"），但是所有的 JS 请使用单引号。</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">&lt;</span>Foo bar<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>bar<span class="pl-pds">'</span></span> <span class="pl-k">/&gt;</span>

<span class="pl-c">// good</span>
<span class="pl-k">&lt;</span>Foo bar<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span> <span class="pl-k">/&gt;</span>

<span class="pl-c">// bad</span>
<span class="pl-k">&lt;</span>Foo style<span class="pl-k">=</span>{{ left<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>20px<span class="pl-pds">"</span></span> }} <span class="pl-k">/&gt;</span>

<span class="pl-c">// good</span>
<span class="pl-k">&lt;</span>Foo style<span class="pl-k">=</span>{{ left<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>20px<span class="pl-pds">'</span></span> }} <span class="pl-k">/&gt;</span></pre></div></li>
</ul>

<h2><a id="user-content-空格" class="anchor" href="#空格" aria-hidden="true"><span class="octicon octicon-link"></span></a>空格</h2>

<ul>
<li><p>总是在自身结尾标签前加上一个空格。</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">&lt;</span>Foo<span class="pl-k">/&gt;</span>

<span class="pl-c">// very bad</span>
<span class="pl-k">&lt;</span>Foo                 <span class="pl-k">/&gt;</span>

<span class="pl-c">// bad</span>
<span class="pl-k">&lt;</span>Foo
 <span class="pl-k">/&gt;</span>

<span class="pl-c">// good</span>
<span class="pl-k">&lt;</span>Foo <span class="pl-k">/&gt;</span></pre></div></li>
</ul>

<h2><a id="user-content-props" class="anchor" href="#props" aria-hidden="true"><span class="octicon octicon-link"></span></a>Props</h2>

<ul>
<li><p>总是使用驼峰式大小写命名 prop。</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">&lt;</span>Foo
  UserName<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span>
  phone_number<span class="pl-k">=</span>{<span class="pl-c1">12345678</span>}
<span class="pl-k">/&gt;</span>

<span class="pl-c">// good</span>
<span class="pl-k">&lt;</span>Foo
  userName<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span>
  phoneNumber<span class="pl-k">=</span>{<span class="pl-c1">12345678</span>}
<span class="pl-k">/&gt;</span></pre></div></li>
</ul>

<h2><a id="user-content-括号" class="anchor" href="#括号" aria-hidden="true"><span class="octicon octicon-link"></span></a>括号</h2>

<ul>
<li><p>当 JSX 的标签有多行時请使用括号将它们包起来：</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">/// bad</span>
<span class="pl-en">render</span>() {
  <span class="pl-k">return</span> <span class="pl-k">&lt;</span>MyComponent className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>long body<span class="pl-pds">"</span></span> foo<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>
           <span class="pl-k">&lt;</span>MyChild <span class="pl-k">/&gt;</span>
         <span class="pl-k">&lt;/</span>MyComponent<span class="pl-k">&gt;</span>;
}

<span class="pl-c">// good</span>
<span class="pl-en">render</span>() {
  <span class="pl-k">return</span> (
    <span class="pl-k">&lt;</span>MyComponent className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>long body<span class="pl-pds">"</span></span> foo<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span><span class="pl-k">&gt;</span>
      <span class="pl-k">&lt;</span>MyChild <span class="pl-k">/&gt;</span>
    <span class="pl-k">&lt;/</span>MyComponent<span class="pl-k">&gt;</span>
  );
}

<span class="pl-c">// good, when single line</span>
<span class="pl-en">render</span>() {
  <span class="pl-k">const</span> <span class="pl-c1">body</span> <span class="pl-k">=</span> <span class="pl-k">&lt;</span>div<span class="pl-k">&gt;</span>hello<span class="pl-k">&lt;/</span>div<span class="pl-k">&gt;</span>;
  <span class="pl-k">return</span> <span class="pl-k">&lt;</span>MyComponent<span class="pl-k">&gt;</span>{body}<span class="pl-k">&lt;/</span>MyComponent<span class="pl-k">&gt;</span>;
}</pre></div></li>
</ul>

<h2><a id="user-content-标签" class="anchor" href="#标签" aria-hidden="true"><span class="octicon octicon-link"></span></a>标签</h2>

<ul>
<li><p>沒有子标签時总是使用自身结尾标签。</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">&lt;</span>Foo className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>stuff<span class="pl-pds">"</span></span><span class="pl-k">&gt;&lt;/</span>Foo<span class="pl-k">&gt;</span>

<span class="pl-c">// good</span>
<span class="pl-k">&lt;</span>Foo className<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>stuff<span class="pl-pds">"</span></span> <span class="pl-k">/&gt;</span></pre></div></li>
<li><p>如果你的组件有多行属性，结尾标签请另起一行。</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
<span class="pl-k">&lt;</span>Foo
  bar<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>
  baz<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>baz<span class="pl-pds">"</span></span> <span class="pl-k">/&gt;</span>

<span class="pl-c">// good</span>
<span class="pl-k">&lt;</span>Foo
  bar<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>
  baz<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>baz<span class="pl-pds">"</span></span>
<span class="pl-k">/&gt;</span></pre></div></li>
</ul>

<h2><a id="user-content-方法" class="anchor" href="#方法" aria-hidden="true"><span class="octicon octicon-link"></span></a>方法</h2>

<ul>
<li><p>React 组件的內部方法不要使用下划线作前缀。</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// bad</span>
React.createClass({
  <span class="pl-en">_onClickSubmit</span>() {
    <span class="pl-c">// do stuff</span>
  }

  <span class="pl-c">// other stuff</span>
});

<span class="pl-c">// good</span>
<span class="pl-k">class</span> <span class="pl-k">extends</span> <span class="pl-en">React.Component</span> {
  <span class="pl-en">onClickSubmit</span>() {
    <span class="pl-c">// do stuff</span>
  }

  <span class="pl-c">// other stuff</span>
});</pre></div></li>
</ul>

<h2><a id="user-content-排序" class="anchor" href="#排序" aria-hidden="true"><span class="octicon octicon-link"></span></a>排序</h2>

<ul>
<li><p>扩展类 React.Component 的排序：</p></li>
</ul>

<ol>
<li>constructor</li>
<li>optional static methods</li>
<li>getChildContext</li>
<li>componentWillMount</li>
<li>componentDidMount</li>
<li>componentWillReceiveProps</li>
<li>shouldComponentUpdate</li>
<li>componentWillUpdate</li>
<li>componentDidUpdate</li>
<li>componentWillUnmount</li>
<li><em>clickHandlers or eventHandlers</em> like onClickSubmit() or onChangeDescription()</li>
<li><em>getter methods for render</em> like getSelectReason() or getFooterContent()</li>
<li><em>Optional render methods</em> like renderNavigation() or renderProfilePicture()</li>
<li><p>render</p></li>
</ol>

<ul>
<li><p>如何定义 propTypes, defaultProps, contextTypes, 等...</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> React, { Component, PropTypes } <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react<span class="pl-pds">'</span></span>;

<span class="pl-k">const</span> <span class="pl-c1">propTypes</span> <span class="pl-k">=</span> {
  id<span class="pl-k">:</span> PropTypes.number.isRequired,
  url<span class="pl-k">:</span> PropTypes.string.isRequired,
  text<span class="pl-k">:</span> PropTypes.string,
};

<span class="pl-k">const</span> <span class="pl-c1">defaultProps</span> <span class="pl-k">=</span> {
  text<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Hello World<span class="pl-pds">'</span></span>,
};

<span class="pl-k">export</span> <span class="pl-k">default</span> <span class="pl-k">class</span> <span class="pl-en">Link</span> <span class="pl-k">extends</span> <span class="pl-en">Component</span> {
  <span class="pl-k">static</span> <span class="pl-en">methodsAreOk</span>() {
    <span class="pl-k">return</span> <span class="pl-c1">true</span>;
  }

  <span class="pl-en">render</span>() {
    <span class="pl-k">return</span> <span class="pl-k">&lt;</span>a href<span class="pl-k">=</span>{<span class="pl-v">this</span>.props.url} data<span class="pl-k">-</span>id<span class="pl-k">=</span>{<span class="pl-v">this</span>.props.<span class="pl-c1">id</span>}<span class="pl-k">&gt;</span>{<span class="pl-v">this</span>.props.<span class="pl-c1">text</span>}<span class="pl-k">&lt;/</span>a<span class="pl-k">&gt;</span>
  }
}

<span class="pl-c1">Link</span>.propTypes <span class="pl-k">=</span> propTypes;
<span class="pl-c1">Link</span>.defaultProps <span class="pl-k">=</span> defaultProps;</pre></div></li>
<li><p>React.createClass 的排序：</p></li>
</ul>

<ol>
<li>displayName</li>
<li>propTypes</li>
<li>contextTypes</li>
<li>childContextTypes</li>
<li>mixins</li>
<li>statics</li>
<li>defaultProps</li>
<li>getDefaultProps</li>
<li>getInitialState</li>
<li>getChildContext</li>
<li>componentWillMount</li>
<li>componentDidMount</li>
<li>componentWillReceiveProps</li>
<li>shouldComponentUpdate</li>
<li>componentWillUpdate</li>
<li>componentDidUpdate</li>
<li>componentWillUnmount</li>
<li><em>clickHandlers or eventHandlers</em> like onClickSubmit() or onChangeDescription()</li>
<li><em>getter methods for render</em> like getSelectReason() or getFooterContent()</li>
<li><em>Optional render methods</em> like renderNavigation() or renderProfilePicture()</li>
<li>render</li>
</ol>

<p><strong><a href="#table-of-contents">⬆ back to top</a></strong></p>
</article>

</body>

</html>
